<!DOCTYPE html>
<!--?xml version="1.0"?-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:svg="http://www.w3.org/2000/svg">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Fractarchy CMS</title>
    <link rel="icon" type="image/png" href="./media/favicon128.png"/>

    <!-- Primary Meta Tags -->
    <meta name="title" content="Fractarchy">
    <meta name="description" content="fractal-structure inspired, parent-child orbiting, zooming-elements based content management system">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://contrast-zone.github.io/moonlight">
    <meta property="og:title" content="Fractarchy">
    <meta property="og:description" content="fractal-structure inspired, parent-child orbiting, zooming-elements based content management system">
    <meta property="og:image" content="media/socmedia.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://contrast-zone.github.io/moonlight">
    <meta property="twitter:title" content="Fractarchy">
    <meta property="twitter:description" content="fractal-structure inspired, parent-child orbiting, zooming-elements based content management system">
    <meta property="twitter:image" content="media/socmedia.png">

    <!--meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /-->
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
   
    <head>
        <style media="screen">
            html, body
            {
                overflow: hidden;
                height: 100%;
                width: 100%;
                margin-top: 0px;
                margin-left: 0px;
                pointer-events: auto;
                /*touch-action: pinch-zoom;*/
                touch-action: none;
                user-select: none;
            }

            .center {
              display: flex;
              justify-content: center;
              align-items: center;
              flex-direction: column;
            }
            
            a, a.btn:visited, a.btn:link {cursor: pointer; color: rgb(226, 226, 226); text-decoration:underline;}
            a.btn:hover, a.btn:active {cursor: pointer; color:white; text-decoration:underline;}
        </style>
    </head>
    <body>
        <noscript>
            title: Moonlight CMS
            tags: content-management-system, fractal-structure-inspired, parent-child-orbiting, zooming-elements-based, headless-cms, flat-file-cms, light-cms
            powered with ‚ù§ by moonlight cms
        </noscript>
        <iframe id="body" src="src/orbital.html" style="border-style:none; position:fixed;/* top:0; left:0; bottom:0; right:0; width:100%; height:100%;*/ border:none; background-color: gray;"></iframe>
        <a id="fullscrbtn" class="btn" style="position: absolute; text-shadow: 0px 0px 10px black;" hidden>
            <i class="material-icons" style="font-size: 7em;">fullscreen</i>
        </a>
        <a id="helpbtn" class="btn" style="position: absolute; text-shadow: 0px 0px 10px black;">
            <i class="material-icons" style="font-size: 7em;">help_outline</i>
        </a>
        <div id="helpcontainer" class="center" style="position: absolute; visibility: hidden; left: 0; top: 0; right: 0; bottom: 0; background-color: rgb(48, 48, 48, 0.95);">
            <img id="help" src="media/instr.svg" height="95%"/>
        </div>
        <script>
            document.body.style.fontSize = Math.sqrt(window.devicePixelRatio) + "em"

            var setSize = function (orientation) {
                var bd = document.getElementById("body");
                var hlp = document.getElementById("help");
                var f = document.getElementById("fullscrbtn");
                var h = document.getElementById("helpbtn");
                
                bd.style.top = "0px";
                bd.style.left = "0px";
                bd.style.width = "100%";
                bd.style.height = "100%";
                
                hlp.style.transform = "scale(" + 1 + ")";
                var hh = window.innerHeight / hlp.clientHeight * 0.95;
                hlp.style.transform = "scale(" + hh + ")";

                f.style.right = "0px";
                f.style.top = "0px";
                
                h.style.right = "0px";
                h.style.bottom = "0px";
            };

            var toggleFullScreen = function () {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen();
                } else {
                    if (document.exitFullscreen) {
                      document.exitFullscreen();
                    }
                }
            }

            var showHelp = function () {
                var h = document.getElementById("helpcontainer");
                var f = 0.95;
                var fun = function () {
                    if (f > 0) {
                        h.style.opacity = 1 - f;
                        f -= 0.5;
                        setTimeout (fun, 50);
                    } else {
                        h.style.visibility = "visible";
                        h.style.opacity = 1;
                    }
                };
                
                h.style.opacity = 0;
                h.style.visibility = "visible";
                setTimeout(fun, 50);
            }
            
            var hideHelp = function () {
                var h = document.getElementById("helpcontainer");
                var f = 0.95;
                var fun = function () {
                    if (f > 0) {
                        h.style.opacity = f;
                        f -= 0.5;
                        setTimeout (fun, 50);
                    } else {
                        h.style.visibility = "hidden";
                        h.style.opacity = 0;
                    }
                };
                
                h.style.opacity = 1;
                h.style.visibility = "visible";
                setTimeout(fun, 50);
            }
            
            window.addEventListener('resize', function () {
                setSize (screen.orientation.type);
            });

            window.addEventListener("orientationchange", function () {
                setSize (screen.orientation.type);
            });

            document.getElementById("fullscrbtn").addEventListener('click', toggleFullScreen);
            document.getElementById("helpbtn").addEventListener('click', showHelp);
            document.getElementById("helpcontainer").addEventListener('click', hideHelp);
            
            document.getElementById("body").addEventListener("touchstart", function (evt) {
                evt.preventDefault ();
            }, false);

            setSize();
        </script>
    </body>
</html>
